<form id="uploadForm" method="post" action="/upload" enctype="multipart/form-data">
  <input id="file" name="file" type="file" accept=".pdf,.png,.jpg,.jpeg" required/>
  <button type="submit">Upload</button>
</form>
<div id="out"></div>

<script>
  const form = document.getElementById('uploadForm');
  const out  = document.getElementById('out');

  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    const file = document.getElementById('file').files[0];
    if (!file) { out.textContent = "Choose a file."; return; }
    const body = new FormData();
    body.append('file', file);

    out.textContent = "Uploadingâ€¦";
    const res  = await fetch('/upload', { method: 'POST', body });
    const json = await res.json();
    out.textContent = JSON.stringify(json, null, 2);
  });
</script>
